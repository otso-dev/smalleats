<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.smalleats.repository.OrderDAOImpl">

    <insert id="orderInsert" parameterType="com.smalleats.entity.Order"
            useGeneratedKeys="true"
            keyProperty="orderId">
        insert into order_tb
        (order_id, food_id, user_id ,order_req_time, order_delivery_day)
        values (0,#{foodId},#{userId},#{orderReqTime},#{orderDeliveryDay})
    </insert>

    <insert id="orderMenuInsert" parameterType="list">
        insert into order_menu_tb
        (order_menu_id, order_id, menu_id, order_menu_numbers)
        values
        <foreach collection="list" item="item" separator=",">
            (0,#{item.orderId},#{item.foodMenuId},#{item.menuNumbers})
        </foreach>
    </insert>
</mapper>